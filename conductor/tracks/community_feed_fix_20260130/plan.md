# Implementation Plan: Fix Missing Posts in Community Feeds\n\n## Phase 1: Diagnostic & Hook Refactoring\n- [x] Task: debug: Inspect relay subscription filters and incoming event tags (74224f8)\n    - [ ] Add logging to 'useFeed.ts' (or relevant hook) to capture the exact filters sent to relays\n    - [ ] Log incoming Kind 1 events and their community tags to identify matching failures\n- [x] Task: refactor: Correct community subscription filters (74224f8)\n    - [ ] Write tests for 'useCommunity' filter generation\n    - [ ] Ensure the 'a' tag filter is correctly formatted (e.g., '34550:pubkey:id')\n- [x] Task: Conductor - User Manual Verification 'Phase 1: Diagnostic - [ ] Task: Conductor - User Manual Verification 'Phase 1: Diagnostic & Hook Refactoring' Hook Refactoring' (Protocol in workflow.md)\n\n## Phase 2: Client-side Filtering & Tag Stability\n- [ ] Task: fix: Implement robust community tag matching\n    - [ ] Write unit tests for community tag parsing logic in 'nostr-parsers.ts'\n    - [ ] Fix logic to handle both long-form and short-form community identifiers\n- [ ] Task: fix: Ensure VirtualFeed displays filtered events correctly\n    - [ ] Verify that the state update from the feed hook triggers a re-render in 'VirtualFeed'\n    - [ ] Add a regression test for community-specific event display\n- [ ] Task: Conductor - User Manual Verification 'Phase 2: Client-side Filtering & Tag Stability' (Protocol in workflow.md)
